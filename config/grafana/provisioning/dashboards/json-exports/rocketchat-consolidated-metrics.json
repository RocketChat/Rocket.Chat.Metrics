{
    "annotations": {
        "list": [
            {
                "builtIn": 1,
                "datasource": {
                    "type": "datasource",
                    "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "limit": 100,
                "matchAny": true,
                "name": "Annotations & Alerts",
                "showIn": 0,
                "tags": [
                    "metrics",
                    "microservices"
                ],
                "target": {
                    "limit": 100,
                    "matchAny": true,
                    "tags": [
                        "metrics",
                        "microservices"
                    ],
                    "type": "tags"
                },
                "type": "tags"
            }
        ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "id": 198,
    "links": [],
    "panels": [
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
            },
            "id": 43,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "#fffcfc",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 0,
                        "y": 1
                    },
                    "id": 91,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "/^version$/",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "value",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "count by (version) (rocketchat_info{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "__auto",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Version",
                    "transformations": [
                        {
                            "id": "labelsToFields",
                            "options": {}
                        }
                    ],
                    "transparent": true,
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "#ffffff",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 8,
                        "y": 1
                    },
                    "id": 92,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "/^DeploymentDomain$/",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "value",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "count by (DeploymentDomain) (rocketchat_info{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "__auto",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "DeploymentDomain",
                    "transformations": [
                        {
                            "id": "labelsToFields",
                            "options": {}
                        }
                    ],
                    "transparent": true,
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "#ffffff",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 16,
                        "y": 1
                    },
                    "id": 93,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "center",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "/^Product$/",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "value",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "count by (Product) (rocketchat_info{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "__auto",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Product",
                    "transformations": [
                        {
                            "id": "labelsToFields",
                            "options": {}
                        }
                    ],
                    "transparent": true,
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "#299c46"
                                    },
                                    {
                                        "color": "rgba(237, 129, 40, 0.89)",
                                        "value": 10000000
                                    },
                                    {
                                        "color": "#d44a3a"
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 0,
                        "y": 634
                    },
                    "id": 30,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "background",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_users_online{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Users Online",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 8,
                        "y": 634
                    },
                    "id": 31,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "background",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_users_away{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Users Away",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "rgb(31, 120, 193)",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 16,
                        "y": 634
                    },
                    "id": 29,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_messages_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Messages",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "rgb(31, 120, 193)",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 0,
                        "y": 637
                    },
                    "id": 26,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_users_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Users",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "rgb(31, 120, 193)",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 8,
                        "y": 637
                    },
                    "id": 27,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_rooms_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Rooms",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "fixedColor": "rgb(31, 120, 193)",
                                "mode": "fixed"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 16,
                        "y": 637
                    },
                    "id": 32,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_ddp_connected_users{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "",
                            "refId": "A"
                        }
                    ],
                    "title": "DDP Users",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 0,
                        "y": 640
                    },
                    "id": 36,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "diff"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_users_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Users Diff",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 8,
                        "y": 640
                    },
                    "id": 37,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "diff"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_rooms_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Rooms  Diff",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "locale"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 8,
                        "x": 16,
                        "y": 640
                    },
                    "id": 38,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "diff"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80207",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_messages_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Messages  Diff",
                    "type": "stat"
                }
            ],
            "title": "Totals",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 1
            },
            "id": 69,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 641
                    },
                    "id": 71,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "increase(rocketchat_metrics_requests{DeploymentName=\"$deployment\"}[5m])",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Metrics Requests",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 641
                    },
                    "id": 72,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_metrics_size{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Metrics Size",
                    "type": "timeseries"
                }
            ],
            "title": "Metrics",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 2
            },
            "id": 23,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 847
                    },
                    "id": 1,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "nodejs_active_handles_total{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Active Handles",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 847
                    },
                    "id": 3,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "nodejs_active_requests_total{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Active Requests",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 854
                    },
                    "id": 4,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "nodejs_eventloop_lag_seconds{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Event loop lag",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 854
                    },
                    "id": 5,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum by (space) (nodejs_heap_size_used_bytes{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 2,
                            "legendFormat": "{{space}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Heap used",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 861
                    },
                    "id": 6,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "nodejs_heap_size_used_bytes{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}} [{{space}}]",
                            "refId": "A"
                        }
                    ],
                    "title": "Per pod heap",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 868
                    },
                    "id": 66,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(nodejs_gc_pause_seconds_total{DeploymentName=\"$deployment\"}[5m])) by (gctype)",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 2,
                            "legendFormat": "{{gctype}}",
                            "refId": "A"
                        }
                    ],
                    "title": "GC - Seconds Running",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 868
                    },
                    "id": 67,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(nodejs_gc_reclaimed_bytes_total{DeploymentName=\"$deployment\"}[5m])) by (instance)",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 2,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "GC - Bytes Freed",
                    "type": "timeseries"
                }
            ],
            "title": "NodeJS",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 3
            },
            "id": 104,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 0,
                        "y": 4
                    },
                    "hideTimeOverride": true,
                    "id": 105,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(moleculer_registry_nodes_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "1s",
                    "title": "Nodes",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 6,
                        "y": 4
                    },
                    "hideTimeOverride": true,
                    "id": 106,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(moleculer_registry_services_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "1s",
                    "title": "Services",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 12,
                        "y": 4
                    },
                    "hideTimeOverride": true,
                    "id": 107,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(moleculer_registry_actions_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "1s",
                    "title": "Actions",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 18,
                        "y": 4
                    },
                    "hideTimeOverride": true,
                    "id": 108,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(moleculer_registry_events_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "1s",
                    "title": "Events",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 0,
                        "y": 99
                    },
                    "hideTimeOverride": true,
                    "id": 109,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "sum"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(moleculer_request_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "1s",
                    "title": "Total calls",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 6,
                        "y": 99
                    },
                    "hideTimeOverride": true,
                    "id": 110,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(moleculer_request_error_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "1s",
                    "title": "Total errors",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "rgba(50, 172, 45, 0.97)",
                                        "value": null
                                    },
                                    {
                                        "color": "rgba(237, 129, 40, 0.89)",
                                        "value": 50
                                    },
                                    {
                                        "color": "rgba(245, 54, 54, 0.9)",
                                        "value": 100
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 12,
                        "y": 99
                    },
                    "hideTimeOverride": true,
                    "id": 111,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(irate(moleculer_request_time_rate{namespace=\"$namespace\"}[1m]))",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "10s",
                    "title": "Response time",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 3,
                        "w": 6,
                        "x": 18,
                        "y": 99
                    },
                    "hideTimeOverride": true,
                    "id": 112,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(moleculer_request_total{namespace=\"$namespace\"}[1m]))",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "10s",
                    "title": "Rps",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "line+area"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "transparent",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 200
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 102
                    },
                    "id": 113,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(moleculer_request_time_rate{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Total",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "title": "Response time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 102
                    },
                    "id": 114,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(moleculer_request_total_rate{namespace=\"$namespace\"}[5m]))",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Calls",
                            "refId": "A",
                            "step": 2
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(moleculer_request_error_total_rate{namespace=\"$namespace\"}[5m]))",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Errors",
                            "refId": "B",
                            "step": 2
                        }
                    ],
                    "title": "Action calls",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "line+area"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "transparent",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 200
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 110
                    },
                    "id": 24,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true,
                            "sortBy": "Max",
                            "sortDesc": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "moleculer_request_time_rate{namespace=\"$namespace\"}",
                            "format": "time_series",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{action}} ({{type}} - {{nodeID}})",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(rate(moleculer_request_time_sum{namespace=\"$namespace\"}[2m]) / rate(moleculer_request_time_count{namespace=\"$namespace\"}[2m])) by (action, type)",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{action}} ({{type}})",
                            "range": true,
                            "refId": "B",
                            "step": 2
                        }
                    ],
                    "title": "Response time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 110
                    },
                    "id": 115,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true,
                            "sortBy": "Max",
                            "sortDesc": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "moleculer_request_total_rate{namespace=\"$namespace\"}",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{action}} ({{nodeID}})",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(moleculer_request_error_total_rate{namespace=\"$namespace\"}[5m]))",
                            "format": "time_series",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Errors",
                            "refId": "B",
                            "step": 2
                        }
                    ],
                    "title": "Action calls",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 5,
                        "x": 0,
                        "y": 118
                    },
                    "hideTimeOverride": true,
                    "id": 22,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "background",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "max"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(users_connected{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "timeFrom": "10s",
                    "title": "Current Concurrent Users",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "axisSoftMin": 0,
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": true,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 19,
                        "x": 5,
                        "y": 118
                    },
                    "id": 116,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "users_connected{namespace=\"$namespace\"}",
                            "interval": "",
                            "legendFormat": "{{nodeID}}",
                            "range": true,
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(users_connected{namespace=\"$namespace\"})",
                            "hide": true,
                            "interval": "",
                            "legendFormat": "{{instance}}",
                            "refId": "B"
                        }
                    ],
                    "title": "DDP Streamer Connected Users",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 127
                    },
                    "id": 7,
                    "options": {
                        "legend": {
                            "calcs": [
                                "last",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by (action, errorName) (irate(moleculer_request_error_total{namespace=\"$namespace\"}[5m]))",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{action}} - {{errorName}}",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "title": "Error types",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineStyle": {
                                    "fill": "solid"
                                },
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 134
                    },
                    "id": 117,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true,
                            "sortBy": "Max",
                            "sortDesc": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum(rate(moleculer_event_broadcast_local_total{namespace=\"$namespace\"}[5m])) by (event)",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{event}}",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "title": "Broadcasts rate by event",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 141
                    },
                    "id": 28,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rate(moleculer_request_total{namespace=\"$namespace\"}[5m])) by (action)",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{action}}",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "title": "Request totals rate by service",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 148
                    },
                    "id": 118,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum(rate(moleculer_request_total{namespace=\"$namespace\"}[5m])) by (kubernetes_name)",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{action}}",
                            "range": true,
                            "refId": "A",
                            "step": 2
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "moleculer_request_total{namespace=\"$namespace\"}",
                            "hide": true,
                            "legendFormat": "__auto",
                            "range": true,
                            "refId": "B"
                        }
                    ],
                    "title": "Request totals rate by microservice",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 155
                    },
                    "id": 119,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "moleculer_request_total_rate{namespace=\"$namespace\"}",
                            "interval": "",
                            "legendFormat": "{{nodeID}}-{{action}}",
                            "refId": "B"
                        }
                    ],
                    "title": "Service Request rate by node",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 0,
                        "y": 162
                    },
                    "id": 120,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(moleculer_request_total{namespace=\"$namespace\"}) by (action)",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{action}}",
                            "refId": "A",
                            "step": 2
                        }
                    ],
                    "title": "Request totals by service",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 162
                    },
                    "id": 121,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(moleculer_request_total{namespace=\"$namespace\"}) by (action)",
                            "format": "time_series",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "{{action}}",
                            "refId": "A",
                            "step": 2
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "moleculer_request_total{namespace=\"$namespace\"}",
                            "interval": "",
                            "legendFormat": "{{nodeID}}-{{action}}",
                            "refId": "B"
                        }
                    ],
                    "title": "Service Requests by node",
                    "type": "timeseries"
                },
                {
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 3,
                        "x": 0,
                        "y": 169
                    },
                    "id": 122,
                    "options": {
                        "alertInstanceLabelFilter": "",
                        "alertName": "",
                        "dashboardAlerts": true,
                        "dashboardTitle": "",
                        "groupBy": [],
                        "groupMode": "default",
                        "maxItems": 10,
                        "showInactiveAlerts": false,
                        "showOptions": "current",
                        "sortOrder": 1,
                        "stateFilter": {
                            "alerting": false,
                            "error": true,
                            "execution_error": false,
                            "firing": true,
                            "noData": false,
                            "no_data": false,
                            "normal": false,
                            "ok": false,
                            "paused": false,
                            "pending": false
                        },
                        "tags": [],
                        "viewMode": "list"
                    },
                    "pluginVersion": "11.5.0-80683",
                    "title": "Alerts",
                    "type": "alertlist"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 9,
                        "x": 3,
                        "y": 169
                    },
                    "id": 123,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "moleculer_registry_nodes_online_total{namespace=\"$namespace\"}",
                            "interval": "",
                            "legendFormat": "{{nodeID}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Online nodes according to each node",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "bars",
                                "fillOpacity": 100,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 12,
                        "x": 12,
                        "y": 169
                    },
                    "id": 13,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": false
                        },
                        "tooltip": {
                            "maxHeight": 600,
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(moleculer_registry_nodes_total{namespace=\"$namespace\"})",
                            "format": "time_series",
                            "interval": "10s",
                            "intervalFactor": 2,
                            "legendFormat": "",
                            "refId": "A",
                            "step": 20
                        }
                    ],
                    "title": "Online nodes",
                    "type": "timeseries"
                }
            ],
            "title": "Micro Services",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 4
            },
            "id": 63,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 6,
                        "w": 12,
                        "x": 0,
                        "y": 883
                    },
                    "id": 58,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\", user_id!=\"null\"}[5m])) by (limit_name)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{limit_name}} (not null)",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\", user_id=\"null\"}[5m])) by (limit_name)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{limit_name}} (null)",
                            "refId": "B"
                        }
                    ],
                    "title": "Limit by type",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 6,
                        "w": 12,
                        "x": 12,
                        "y": 883
                    },
                    "id": 59,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\", user_id!=\"null\"}[5m])) by (type,name)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{type}}: {{name}} (not null)",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\", user_id=\"null\"}[5m])) by (type,name)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{type}}: {{name}} (null)",
                            "refId": "B"
                        }
                    ],
                    "title": "Limit by method",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 889
                    },
                    "id": 61,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\"}[5m])) by (user_id)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{user_id}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Limit by userId",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 889
                    },
                    "id": 60,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\", user_id!=\"null\"}[5m])) by (connection_id)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{connection_id}} (not null)",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_ddp_rate_limit_exceeded{DeploymentName=\"$deployment\", user_id=\"null\"}[5m])) by (connection_id)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{connection_id}} (null)",
                            "refId": "B"
                        }
                    ],
                    "title": "Limit by connectionId",
                    "type": "timeseries"
                }
            ],
            "title": "DDP Rate Limiter",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 5
            },
            "id": 79,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 690
                    },
                    "id": 2,
                    "options": {
                        "alertThreshold": true,
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_message_sent{}[5m]))/sum(rocketchat_users_online)/5",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 10,
                            "legendFormat": "Msg / Online Users",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_message_sent{}[5m]))/sum(rocketchat_ddp_connected_users)/5",
                            "hide": false,
                            "interval": "",
                            "legendFormat": "Msg / Connected Users",
                            "refId": "B"
                        }
                    ],
                    "title": "Messages Sent (1m)",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "percentunit"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 789
                    },
                    "id": 80,
                    "options": {
                        "alertThreshold": true,
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "1/(sum(rocketchat_users_away)+sum(rocketchat_users_online))*sum(rocketchat_users_online)",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 10,
                            "legendFormat": "",
                            "refId": "A"
                        }
                    ],
                    "title": "Online of Connected",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "percentunit"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 796
                    },
                    "id": 81,
                    "options": {
                        "alertThreshold": true,
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(1/rocketchat_users_active{DeploymentName!=\"open\"}*rocketchat_users_online{DeploymentName!=\"open\"})",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 10,
                            "legendFormat": "",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_users_active)",
                            "hide": true,
                            "interval": "",
                            "legendFormat": "",
                            "refId": "B"
                        }
                    ],
                    "title": "Online of Active (-open)",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 803
                    },
                    "id": 35,
                    "options": {
                        "alertThreshold": true,
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(min(rocketchat_info) by (DeploymentId))",
                            "format": "time_series",
                            "interval": "",
                            "intervalFactor": 10,
                            "legendFormat": "",
                            "refId": "A"
                        }
                    ],
                    "title": "Total servers",
                    "type": "timeseries"
                }
            ],
            "title": "Row title",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 6
            },
            "id": 21,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 7
                    },
                    "id": 10,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(rocketchat_users_online{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "Online",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(rocketchat_users_away{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "Away",
                            "refId": "B"
                        }
                    ],
                    "title": "Users Presence",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 16
                    },
                    "id": 64,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_ddp_connected_users{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Connected Users",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_ddp_sessions_count{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "All Sessions",
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_ddp_sessions_auth{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "Authenticated Sessions ",
                            "refId": "C"
                        }
                    ],
                    "title": "Users & Sessions",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 23
                    },
                    "id": 75,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_ddp_connected_users{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{instance}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Web Socket Connections per pod",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 30
                    },
                    "id": 76,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_apps_installed{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{instance}} - installed",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_apps_enabled{DeploymentName=\"$deployment\"}",
                            "interval": "",
                            "legendFormat": "{{instance}} - enabled",
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_apps_failed{DeploymentName=\"$deployment\"}",
                            "interval": "",
                            "legendFormat": "{{instance}} - failed",
                            "refId": "C"
                        }
                    ],
                    "title": "Apps Installed / Disabled / Failed",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 37
                    },
                    "id": 56,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_meteor_stream{DeploymentName=\"$deployment\"}[5m])) by (stream,eventName)",
                            "format": "time_series",
                            "hide": true,
                            "intervalFactor": 1,
                            "legendFormat": "{{stream}}/{{eventName}}",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_meteor_streamer_broadcast{DeploymentName=\"$deployment\"}[5m])) by (stream,eventName)",
                            "format": "time_series",
                            "hide": true,
                            "intervalFactor": 1,
                            "legendFormat": "broadcast ({{stream}}/{{eventName}})",
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(increase(rocketchat_oplog{DeploymentName=\"$deployment\"}[5m])) by (collection,op)",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "{{collection}}/{{op}}",
                            "refId": "C"
                        }
                    ],
                    "title": "Oplog",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 46
                    },
                    "id": 77,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_meteor_stream{DeploymentName=\"$deployment\"}[5m])) by (stream,eventName)",
                            "format": "time_series",
                            "hide": true,
                            "intervalFactor": 1,
                            "legendFormat": "{{stream}}/{{eventName}}",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_meteor_streamer_broadcast{DeploymentName=\"$deployment\"}[5m])) by (stream,eventName)",
                            "format": "time_series",
                            "hide": true,
                            "intervalFactor": 1,
                            "legendFormat": "broadcast ({{stream}}/{{eventName}})",
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "avg(increase(rocketchat_oplog{DeploymentName=\"$deployment\"}[5m])) by (instance)",
                            "format": "time_series",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{instance}}",
                            "refId": "C"
                        }
                    ],
                    "title": "Oplog By instance",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 55
                    },
                    "id": 65,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_oplog_queue{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "{{instance}}",
                            "refId": "C"
                        }
                    ],
                    "title": "Oplog Queue",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 64
                    },
                    "id": 73,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "rocketchat_push_queue{DeploymentName=\"$deployment\"}",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "{{instance}}",
                            "refId": "C"
                        }
                    ],
                    "title": "Push Queue",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 73
                    },
                    "id": 74,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_meteor_facts{DeploymentName=\"$deployment\"}) by (pkg, fact)",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "{{pkg}} {{fact}}",
                            "refId": "C"
                        }
                    ],
                    "title": "Meteor Facts",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 82
                    },
                    "id": 11,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_users_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "Users",
                            "refId": "A"
                        }
                    ],
                    "title": "Total of Users",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 82
                    },
                    "id": 12,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "max(rocketchat_rooms_total{DeploymentName=\"$deployment\"})",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "Rooms",
                            "refId": "A"
                        }
                    ],
                    "title": "Total of Rooms",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "custom": {},
                            "links": []
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 90
                    },
                    "id": 39,
                    "options": {},
                    "pluginVersion": "7.1.5",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_notification_sent{DeploymentName=\"$deployment\"}[5m])) by (notification_type)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{notification_type}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Notifications / Minute",
                    "type": "timeseries"
                }
            ],
            "title": "RocketChat Data",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 7
            },
            "id": 45,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 885
                    },
                    "id": 40,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_meteor_methods{DeploymentName=\"$deployment\"}) by (method) * sum(increase(rocketchat_meteor_methods_count{DeploymentName=\"$deployment\"}[5m])) by (method)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{method}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Meteor Methods Total Time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 892
                    },
                    "id": 8,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_meteor_methods{DeploymentName=\"$deployment\"}) by (method)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{method}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Meteor Methods Time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 892
                    },
                    "id": 14,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_meteor_methods_count{DeploymentName=\"$deployment\"}[5m])) by (method)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{method}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Meteor Methods Calls / Minute",
                    "type": "timeseries"
                }
            ],
            "title": "Methods",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 8
            },
            "id": 47,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 886
                    },
                    "id": 41,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_meteor_subscriptions{DeploymentName=\"$deployment\"}) by (subscription) * sum(increase(rocketchat_meteor_subscriptions_count{DeploymentName=\"$deployment\"}[5m])) by (subscription)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{subscription}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Meteor Subscription Total Time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 894
                    },
                    "id": 9,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_meteor_subscriptions{DeploymentName=\"$deployment\"}) by (subscription)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{subscription}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Meteor Subscription Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 894
                    },
                    "id": 15,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_meteor_subscriptions_count{DeploymentName=\"$deployment\"}[5m])) by (subscription)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{subscription}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Meteor Subscription Calls / Minute",
                    "type": "timeseries"
                }
            ],
            "title": "Subscriptions",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 9
            },
            "id": 49,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 887
                    },
                    "id": 53,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_callbacks{DeploymentName=\"$deployment\"}) by (callback) * sum(increase(rocketchat_callbacks_count{DeploymentName=\"$deployment\"}[5m])) by (callback)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{callback}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Callbacks Total Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 895
                    },
                    "id": 16,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(rocketchat_callbacks{DeploymentName=\"$deployment\"}[5m])) by (callback)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{callback}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Callbacks Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 895
                    },
                    "id": 17,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_callbacks_count{DeploymentName=\"$deployment\"}[5m])) by (callback)",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "{{callback}}",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_callbacks_count{DeploymentName=\"$deployment\"}) by (hook)",
                            "format": "time_series",
                            "hide": true,
                            "intervalFactor": 1,
                            "legendFormat": "{{hook}}",
                            "refId": "B"
                        }
                    ],
                    "title": "Callbacks Calls / Minute",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 903
                    },
                    "id": 54,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_hooks{DeploymentName=\"$deployment\"}) by (hook) * sum(increase(rocketchat_hooks_count{DeploymentName=\"$deployment\"}[5m])) by (hook)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{hook}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Hooks Total Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 911
                    },
                    "id": 34,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(rocketchat_hooks{DeploymentName=\"$deployment\"}[5m])) by (hook)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{hook}}",
                            "refId": "A"
                        }
                    ],
                    "title": "Hooks Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 911
                    },
                    "id": 33,
                    "options": {
                        "dataLinks": []
                    },
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_hooks_count{DeploymentName=\"$deployment\"}[5m])) by (hook)",
                            "format": "time_series",
                            "hide": false,
                            "intervalFactor": 1,
                            "legendFormat": "{{hook}}",
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_callbacks_count{DeploymentName=\"$deployment\"}) by (hook)",
                            "format": "time_series",
                            "hide": true,
                            "intervalFactor": 1,
                            "legendFormat": "{{hook}}",
                            "refId": "B"
                        }
                    ],
                    "title": "Hooks Calls / Minute",
                    "type": "timeseries"
                }
            ],
            "title": "Callbacks & Hooks",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 10
            },
            "id": 51,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byValue",
                                    "options": {
                                        "op": "gte",
                                        "reducer": "allIsZero",
                                        "value": 0
                                    }
                                },
                                "properties": [
                                    {
                                        "id": "custom.hideFrom",
                                        "value": {
                                            "legend": true,
                                            "tooltip": true,
                                            "viz": false
                                        }
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byValue",
                                    "options": {
                                        "op": "gte",
                                        "reducer": "allIsNull",
                                        "value": 0
                                    }
                                },
                                "properties": [
                                    {
                                        "id": "custom.hideFrom",
                                        "value": {
                                            "legend": true,
                                            "tooltip": true,
                                            "viz": false
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 822
                    },
                    "id": 52,
                    "options": {
                        "dataLinks": [],
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(rocketchat_rest_api{DeploymentName=\"$deployment\"}) by (entrypoint) * sum(increase(rocketchat_rest_api_count{DeploymentName=\"$deployment\"}[5m])) by (entrypoint)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{entrypoint}}",
                            "refId": "A"
                        }
                    ],
                    "title": "REST API Total Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 0,
                        "y": 829
                    },
                    "id": 18,
                    "options": {
                        "dataLinks": [],
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(irate(rocketchat_rest_api{DeploymentName=\"$deployment\"}[5m])) by (entrypoint)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{entrypoint}}",
                            "refId": "A"
                        }
                    ],
                    "title": "REST API Times",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 12,
                        "x": 12,
                        "y": 829
                    },
                    "id": 19,
                    "options": {
                        "dataLinks": [],
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80050",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "expr": "sum(increase(rocketchat_rest_api_count{DeploymentName=\"$deployment\"}[5m])) by (entrypoint)",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "{{entrypoint}}",
                            "refId": "A"
                        }
                    ],
                    "title": "REST API Calls / Minute",
                    "type": "timeseries"
                }
            ],
            "title": "REST API",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 11
            },
            "id": 82,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "reqps"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 12
                    },
                    "id": 85,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by() (rate(omnigateway_relay_total_succeeded{host=\"$address\", source=\"incoming\"}[5m]))\r\n+\r\nsum by( ) (rate(omnigateway_relay_total_failed{host=\"$address\", source=\"incoming\"}[5m]))\r\n",
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Incoming Req/s",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 500
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 4,
                        "y": 12
                    },
                    "id": 99,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(\r\n    rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_sum{source=\"incoming\", host=\"$address\"}[5m])\r\n    /\r\n    rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\"}[5m]) > 0\r\n) by (channel, host)",
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Incoming Time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "decimals": 2,
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 0.1
                                    }
                                ]
                            },
                            "unit": "reqps"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 8,
                        "y": 12
                    },
                    "id": 88,
                    "options": {
                        "colorMode": "background",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by( ) (rate(omnigateway_relay_total_failed{workspaceId=~\"$workspaceId\"}[5m]))\r\n",
                            "hide": true,
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by( ) (rate(omnigateway_relay_total_failed{source=\"incoming\",host=\"$address\"}[5m]))\n/\n(sum by() (rate(omnigateway_relay_total_succeeded{source=\"incoming\",host=\"$address\"}[5m]))+sum by( ) (rate(omnigateway_relay_total_failed{source=\"incoming\",host=\"$address\"}[5m])))\n",
                            "hide": false,
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "B"
                        }
                    ],
                    "title": "Incoming Errors",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "loki",
                        "uid": "edg5tm0n4q5tsc"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "decimals": 0,
                            "mappings": [],
                            "max": 1,
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 10
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 10,
                        "w": 3,
                        "x": 12,
                        "y": 12
                    },
                    "id": 87,
                    "options": {
                        "displayMode": "gradient",
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": false
                        },
                        "maxVizHeight": 300,
                        "minVizHeight": 16,
                        "minVizWidth": 8,
                        "namePlacement": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showUnfilled": true,
                        "sizing": "auto",
                        "valueMode": "color"
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "loki",
                                "uid": "edg5tm0n4q5tsc"
                            },
                            "editorMode": "code",
                            "expr": "max_over_time({DeploymentName=\"$deployment\"} \n  |= \"Metrics received from subprocess\" \n  | regexp \"queueSize: (?P<queue_size>\\\\d+)\" \n  | unwrap queue_size [10s])",
                            "legendFormat": "{{instance}}",
                            "queryType": "range",
                            "refId": "A"
                        }
                    ],
                    "title": "Queue Size",
                    "transformations": [
                        {
                            "id": "renameByRegex",
                            "options": {
                                "regex": ".*-(.*)",
                                "renamePattern": "$1"
                            }
                        }
                    ],
                    "type": "bargauge"
                },
                {
                    "fieldConfig": {
                        "defaults": {},
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 4,
                        "w": 9,
                        "x": 15,
                        "y": 12
                    },
                    "id": 86,
                    "options": {
                        "code": {
                            "language": "plaintext",
                            "showLineNumbers": false,
                            "showMiniMap": false
                        },
                        "content": "|Attempt 1 | Attempt 2 | Attempt 3 | Attempt 4 | Attempt 5 |\n| -------- | --------- | --------- | --------- | --------- |\n| 0 | 10s | 60s | 5m | 26m |",
                        "mode": "markdown"
                    },
                    "pluginVersion": "11.5.0-80683",
                    "title": "Incoming error rate ",
                    "type": "text"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "decimals": 2,
                            "mappings": [],
                            "max": 1,
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 0.01
                                    }
                                ]
                            },
                            "unit": "percentunit"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 6,
                        "w": 9,
                        "x": 15,
                        "y": 16
                    },
                    "id": 103,
                    "options": {
                        "colorMode": "background",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by( ) (rate(omnigateway_relay_total_failed{source=\"incoming\",host=~\"${address}\"}[5m]))\r\n/\r\n(sum by() (rate(omnigateway_relay_total_succeeded{source=\"incoming\",host=~\"${address}\"}[5m])) + sum by() (rate(omnigateway_relay_total_failed{source=\"incoming\",host=\"$address\"}[5m])))",
                            "hide": true,
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\", success=\"false\"}[5m]) > 0) by (attempt)",
                            "hide": true,
                            "legendFormat": "Attempt {{attempt}}",
                            "range": true,
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${cluster}"
                            },
                            "editorMode": "code",
                            "expr": "(\nsum by (attempt) (rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\", success=\"false\"}[5m]) > 0)\n/\nsum by (attempt) (rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\"}[5m]))\n) ",
                            "hide": false,
                            "legendFormat": "Attempt {{attempt}}",
                            "range": true,
                            "refId": "C"
                        }
                    ],
                    "title": "Incoming error rate ",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "reqps"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 17
                    },
                    "id": 100,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by() (rate(omnigateway_relay_total_succeeded{workspaceId=\"$workspaceId\", source=\"outgoing\"}[5m]))\r\n+\r\nsum by( ) (rate(omnigateway_relay_total_failed{workspaceId=\"$workspaceId\", source=\"outgoing\"}[5m]))\r\n",
                            "hide": false,
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "(WA, workspaceId*) Outgoing Req/s",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 500
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 4,
                        "y": 17
                    },
                    "id": 101,
                    "options": {
                        "colorMode": "value",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(\r\n    rate(omnigateway_router_http_response_time_milliseconds_sum{route=\"/v1/whatsapp/requests\"}[5m])\r\n    /\r\n    rate(omnigateway_router_http_response_time_milliseconds_count{route=\"/v1/whatsapp/requests\"}[5m]) > 0\r\n) ",
                            "hide": false,
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "(WA, generic) Outgoing Time",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "decimals": 2,
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 0.1
                                    }
                                ]
                            },
                            "unit": "reqps"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 8,
                        "y": 17
                    },
                    "id": 102,
                    "options": {
                        "colorMode": "background",
                        "graphMode": "area",
                        "justifyMode": "auto",
                        "orientation": "auto",
                        "percentChangeColorMode": "standard",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by( ) (rate(omnigateway_relay_total_failed{source=\"outgoing\",workspaceId=\"$workspaceId\"}[5m]))\n/\n(sum by() (rate(omnigateway_relay_total_succeeded{source=\"outgoing\",workspaceId=\"$workspaceId\"}[5m]))+sum by( ) (rate(omnigateway_relay_total_failed{source=\"outgoing\",workspaceId=\"$workspaceId\"}[5m])))\n",
                            "hide": false,
                            "legendFormat": "{{source}} success",
                            "range": true,
                            "refId": "B"
                        }
                    ],
                    "title": "(WA, workspaceId*) Outgoing Errors",
                    "type": "stat"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 2,
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "reqps"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byName",
                                    "options": "success"
                                },
                                "properties": []
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 22
                    },
                    "id": 83,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by(channel, error, code) (rate(omnigateway_relay_total_failed{host=\"$address\", source=\"incoming\"}[5m]))\r\n",
                            "hide": false,
                            "instant": false,
                            "legendFormat": "{{channel}} failed {{error}} {{code}}",
                            "range": true,
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by (channel) (rate(omnigateway_relay_total_succeeded{host=\"$address\", source=\"incoming\"}[5m]))",
                            "legendFormat": "{{channel}} success",
                            "range": true,
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "-sum (rate(omnigateway_relay_total_succeeded{workspaceId=~\"$workspaceId\", source=\"outgoing\"}[5m]))",
                            "hide": true,
                            "instant": false,
                            "legendFormat": "__auto",
                            "range": true,
                            "refId": "C"
                        }
                    ],
                    "title": "Omnigateway IO Incoming (req/s)",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineStyle": {
                                    "fill": "solid"
                                },
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 1,
                            "mappings": [],
                            "max": 1,
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "percentunit"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 22
                    },
                    "id": 84,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "(\r\n    sum by(source, ) (rate(omnigateway_relay_total_failed{host=\"$address\"}[5m]))\r\n    /\r\n    (sum by(source, ) (rate(omnigateway_relay_total_succeeded{host=\"$address\"}[5m])) + sum by(source, ) (rate(omnigateway_relay_total_failed{host=\"$address\"}[5m])))\r\n)",
                            "legendFormat": "__auto",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Omnigateway incoming error rate",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 2,
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "reqps"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byName",
                                    "options": "success"
                                },
                                "properties": []
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 31
                    },
                    "id": 89,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by(channel, error, code) (rate(omnigateway_relay_total_failed{workspaceId=\"$workspaceId\", source=\"outgoing\"}[5m]))\r\n",
                            "hide": false,
                            "instant": false,
                            "legendFormat": "{{channel}} failed {{error}} {{code}}",
                            "range": true,
                            "refId": "B"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "sum by (channel) (rate(omnigateway_relay_total_succeeded{workspaceId=\"$workspaceId\", source=\"outgoing\"}[5m]))",
                            "legendFormat": "{{channel}}  success",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "(WA, workspaceId*) Omnigateway IO Outgoing (req/s)",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "loki",
                        "uid": "edg5tm0n4q5tsc"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 31
                    },
                    "id": 94,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "loki",
                                "uid": "edg5tm0n4q5tsc"
                            },
                            "editorMode": "code",
                            "expr": "max_over_time({DeploymentName=\"$deployment\"} \n  |= \"Metrics received from subprocess\" \n  | regexp \"queueSize: (?P<queue_size>\\\\d+)\" \n  | unwrap queue_size [10s])",
                            "legendFormat": "{{instance}}",
                            "queryType": "range",
                            "refId": "A"
                        }
                    ],
                    "title": "Queue Size Logs",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 2,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byFrameRefID",
                                    "options": "B"
                                },
                                "properties": [
                                    {
                                        "id": "custom.drawStyle",
                                        "value": "points"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 40
                    },
                    "id": 95,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_sum{source=\"incoming\", host=\"$address\"}[5m]) / rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\"}[5m]) > 0) by (channel)",
                            "legendFormat": "Avg {{channel}}",
                            "range": true,
                            "refId": "A"
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "exemplar": false,
                            "expr": "max(rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_sum{source=\"incoming\", host=\"$address\"}[5m]) / rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\"}[5m]) > 0) by (channel)",
                            "hide": false,
                            "instant": false,
                            "legendFormat": "Max {{channel}}",
                            "range": true,
                            "refId": "B"
                        }
                    ],
                    "title": "AVG Omnigateway incoming processing time [5m] per channel",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "ms"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 40
                    },
                    "id": 96,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "max(rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_sum{source=\"incoming\", host=\"$address\"}[5m]) / rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\"}[5m]) > 0) by (channel, attempt, host)",
                            "hide": false,
                            "legendFormat": "{{channel}}  {{attempt}}/5 max",
                            "range": true,
                            "refId": "B"
                        }
                    ],
                    "title": "MAX Omnigateway incoming processing time [5m] per channel",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 0,
                        "y": 49
                    },
                    "id": 97,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\", success=\"true\"}[5m]) > 0) by (channel, attempt)",
                            "legendFormat": "{{channel}} {{attempt}}/5",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "OK Omnigateway incoming relay distribution rate per attempt",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${omnigateway_cluster}"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "auto",
                                "spanNulls": true,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": [
                            {
                                "__systemRef": "hideSeriesFrom",
                                "matcher": {
                                    "id": "byNames",
                                    "options": {
                                        "mode": "exclude",
                                        "names": [
                                            "whatsapp360d 4/5"
                                        ],
                                        "prefix": "All except:",
                                        "readOnly": true
                                    }
                                },
                                "properties": [
                                    {
                                        "id": "custom.hideFrom",
                                        "value": {
                                            "legend": false,
                                            "tooltip": false,
                                            "viz": true
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 12,
                        "x": 12,
                        "y": 49
                    },
                    "id": 98,
                    "options": {
                        "legend": {
                            "calcs": [
                                "lastNotNull",
                                "max"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "11.5.0-80683",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "${omnigateway_cluster}"
                            },
                            "editorMode": "code",
                            "expr": "avg(rate(omnigateway_queue_consumer_processing_time_duration_milliseconds_count{source=\"incoming\", host=\"$address\", success=\"false\"}[5m]) > 0) by (channel, attempt, final)",
                            "legendFormat": "{{channel}} {{attempt}}/5",
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "FAILED Omnigateway incoming relay distribution rate per attempt",
                    "type": "timeseries"
                }
            ],
            "title": "Omnichannel",
            "type": "row"
        }
    ],
    "preload": false,
    "refresh": "1m",
    "schemaVersion": 40,
    "tags": [],
    "templating": {
        "list": [
            {
                "current": {
                    "text": "[AWS][Dedicated][SAE1] DPESP",
                    "value": "c237959a-39f5-402e-bd9c-92b2247a153c"
                },
                "includeAll": false,
                "name": "cluster",
                "options": [],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "type": "datasource"
            },
            {
                "allowCustomValue": false,
                "current": {
                    "text": [
                        "604bdb1aaeed7a0001bb6a69"
                    ],
                    "value": [
                        "604bdb1aaeed7a0001bb6a69"
                    ]
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "c9cdc3d5-7e40-4dfc-b3f4-29e20d261d73"
                },
                "definition": "label_values(omnigateway_relay_total_succeeded,workspaceId)",
                "includeAll": true,
                "multi": true,
                "name": "workspaceId",
                "options": [],
                "query": {
                    "qryType": 1,
                    "query": "label_values(omnigateway_relay_total_succeeded,workspaceId)",
                    "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
            },
            {
                "allowCustomValue": false,
                "current": {
                    "text": "teleatendimento.defensoria.sp.def.br",
                    "value": "teleatendimento.defensoria.sp.def.br"
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "${cluster}"
                },
                "definition": "label_values(kube_deployment_labels{deployment=\"$deployment\"},label_DeploymentDomain)",
                "includeAll": false,
                "name": "address",
                "options": [],
                "query": {
                    "qryType": 1,
                    "query": "label_values(kube_deployment_labels{deployment=\"$deployment\"},label_DeploymentDomain)",
                    "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
            },
            {
                "current": {
                    "text": "rocketchat-dpesp",
                    "value": "rocketchat-dpesp"
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "${cluster}"
                },
                "definition": "",
                "includeAll": false,
                "name": "deployment",
                "options": [],
                "query": {
                    "query": "label_values(nodejs_active_handles_total,DeploymentName)",
                    "refId": "prom-use1-wkspc-deployment-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "type": "query"
            },
            {
                "current": {
                    "text": "dpesp-workspace",
                    "value": "dpesp-workspace"
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "${cluster}"
                },
                "definition": "label_values(namespace)",
                "label": "Workspace",
                "name": "namespace",
                "options": [],
                "query": {
                    "qryType": 1,
                    "query": "label_values(namespace)",
                    "refId": "PrometheusVariableQueryEditor-VariableQuery"
                },
                "refresh": 1,
                "regex": ".*-workspace",
                "type": "query"
            },
            {
                "current": {
                    "text": "[AWS][CLOUD-SVC] Metrics",
                    "value": "c9cdc3d5-7e40-4dfc-b3f4-29e20d261d73"
                },
                "label": "Omnigateway Cluster",
                "name": "omnigateway_cluster",
                "options": [],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "type": "datasource"
            }
        ]
    },
    "time": {
        "from": "now-3h",
        "to": "now"
    },
    "timepicker": {},
    "timezone": "browser",
    "title": "Rocket.Chat Metrics (Consolidated Version) - Defendi",
    "uid": "9e8876a93",
    "version": 13,
    "weekStart": ""
}
